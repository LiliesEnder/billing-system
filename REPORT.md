# Отчет об ошибках

## Авторизация

Basic Auth:

```
Login: 77755385674
Password: *********
```

При заране не правильных логин\пароль возвращает правильный код ошибки 401.

- Добавить тест на проверку заголовков после авторизации

## Endpoint abonent/pay
1. Не проверить. Формат входных данных не соответсвует ТЗ. Требуется 2 поля:
   1. phone = строке с номером телефеона
   2. money = количество денег на зачисление
2. Возвращает ошибку 403 при валидных данных:
```
java.lang.IllegalArgumentException: The given id must not be null
```

- Добавить тест на правильность суммы денег

## Endpoint manager/change-tariff
1. Возвращает ошибку 403 при валидных данных:
```json
{
   "userPhone": "77755385674",
   "newTarrifId": "11"
}
```
Ответ Статус 403 - ошибка в консоли
```
java.lang.IllegalArgumentException: The given id must not be null
```

- Добавить тест на проверку смены тарифа

## Автоматические тесты
- Черный ящик ???
- Положительные тесты - проверяем что все работает на правильных данных
- Негативные тесты - проверяем что есть защита от неправильных данных
- Unit test - надо проверить что каждый запрос работает сам по себе
- Интеграционные не можем потому что у нас 1 система. 
Их можно провести с точки зрения взаимодействия нескольких модулей.
Зачислили деньги - можем разговаривать
Сменили тариф - правильно списываются деньги
- UI - у нас просто нет, не можем.
- [ ] Тест на зачисление денег пользователю
  - [ ] Не правильный номер телефона 
  - [ ] Отрицательный суммы
  - [ ] Не валидный суммы
- [ ] Тест смены тарифа
  - [ ] После смены должны правильно считаться минуты разговоров
- [ ] Детализация звонков
  - [ ] Правильность времени\суммы звонков
- [ ] Создание нового пользователя
  - [ ] Формат номера телефона
